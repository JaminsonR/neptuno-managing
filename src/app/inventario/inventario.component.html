<app-navbar></app-navbar>
<div class="" style="text-align: center;">
  <h4 style="text-align: center;">Registro Inventario</h4>
  <button
    mat-raised-button
    (click)="openDialog()"
    style="text-align: center;"
    color="primary"
  >
    Añadir
  </button>
  <div class="container">
    <table>
      <tr>
        <th style="text-align: center;">Código</th>
        <th style="text-align: center;">Descripcion</th>
        <th style="text-align: center;">Precio</th>
        <th style="text-align: center;">Precio Mayorista</th>
        <th style="text-align: center;">Es materia prima</th>
        <th style="text-align: center;">Grava iva</th>
        <th style="text-align: center;">Cantidad</th>
        <th></th>
      </tr>
      <tr *ngFor="let product of products">
        <td style="text-align: center;">{{ product.id }}</td>
        <td style="text-align: center;">{{ product.name }}</td>
        <td style="text-align: center;">
          {{
            (product.price / 100).toLocaleString("en-US", {
              style: "currency",
              currency: "USD"
            })
          }}
        </td>
        <td style="text-align: center;">
          {{
            (product.bulkPrice / 100).toLocaleString("en-US", {
              style: "currency",
              currency: "USD"
            })
          }}
        </td>
        <td style="text-align: center;">
          <mat-icon>{{ product.isPrime ? "check" : "close" }}</mat-icon>
        </td>
        <td style="text-align: center;">
          <mat-icon>{{ product.isTaxable ? "check" : "close" }}</mat-icon>
        </td>
        <td style="text-align: center;" height="5px">
          {{ product.stock }}
          <!--
            <div class="row">
              <div class="col s8">
                  <input type="number" [value]="product.stock" min="0" style="float: left" [(ngModel)]="product.stock">
              </div>
              <div class="col s4">
                  <a class="btn-small waves-effect waves-light" (click)="modifyExistence(product.id, product.stock)"><i class="material-icons" style="color: black">save</i></a>
              </div>
            </div>
          -->
        </td>
        <td>
          <button
            (click)="openModifyDialog(product)"
            color="primary"
            mat-raised-button
          >
            <i class="material-icons">edit</i>
          </button>
        </td>
      </tr>
    </table>

    <!--
      <table mat-table [dataSource]="dataSource">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre </th>
          <td mat-cell *matCellDef="let element"> {{element.name}} </td>
        </ng-container>
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef> Código </th>
          <td mat-cell *matCellDef="let element"> {{element.id}} </td>
        </ng-container>
        <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef> Precio </th>
            <td mat-cell *matCellDef="let element"> {{element.price}} </td>
        </ng-container>
        <ng-container matColumnDef="stock">
            <th mat-header-cell *matHeaderCellDef> Cantidad </th>
            <td mat-cell *matCellDef="let element"> {{element.stock}} </td>
        </ng-container>
        <ng-container matColumnDef="isPrime">
            <th mat-header-cell *matHeaderCellDef> Es materia prima </th>
            <td mat-cell *matCellDef="let element"> <mat-icon>{{element.isPrime ? 'check' : 'close'}}</mat-icon> </td>
        </ng-container>
        <ng-container matColumnDef="isTaxable">
            <th mat-header-cell *matHeaderCellDef> Grava IVA </th>
            <td mat-cell *matCellDef="let element"> <mat-icon>{{element.isTaxable ? 'check' : 'close'}}</mat-icon> </td>
        </ng-container>
        <ng-container matColumnDef="existence">
          <th mat-header-cell *matHeaderCellDef> Añadir existencia </th>
          <td mat-cell *matCellDef="let element">
            <input type="number" class="validate" required min="1">
            <button class="waves-effect waves-light black btn" (click)="modifyExistence()">aumentar</button>
          </td>
        </ng-container>
        <ng-container matColumnDef="delete">
            <th mat-header-cell *matHeaderCellDef> Añadir existencia </th>
            <td mat-cell *matCellDef="let element">
              <input type="number" class="validate" required min="1">
              <button class="waves-effect waves-light black btn" (click)="modifyExistence()">disminuir</button>
            </td>
          </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    -->
  </div>
</div>
